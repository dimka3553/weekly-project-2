(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9033:function(e,t,n){Promise.resolve().then(n.t.bind(n,3920,23)),Promise.resolve().then(n.bind(n,218))},1864:function(e){e.exports={DialogOverlay:"styles_DialogOverlay__8REnf",overlayShow:"styles_overlayShow__NhGWd",DialogContent:"styles_DialogContent__64cgM"}},8462:function(e){e.exports={DialogOverlay:"styles_DialogOverlay__zq1cj",overlayShow:"styles_overlayShow__onqZ2",DialogContent:"styles_DialogContent__ma3fo"}},6622:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(9268),s=n(2972),l=n.n(s),a=n(6006);function i(e){let{account:t,size:n=20}=e;t=function(e){for(var t="",n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16);return t}(t);let s=(0,a.useRef)();return(0,a.useEffect)(()=>{let e=s.current;if(e&&t){let r=t.slice(2,10),s=parseInt(r,16),a=l()(n,s);e.firstChild&&e.removeChild(e.firstChild),e.appendChild(a)}},[t,s]),(0,r.jsx)("div",{ref:s,style:{height:n,width:n,minWidth:n,minHeight:n,borderRadius:"9999px"}})}},218:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(9268),s=n(5846),l=n.n(s),a=n(6118),i=n(8462),o=n.n(i),c=n(5954),d=n(6006),u=n(6394),h=n.n(u);function x(e){let{movie:t,setOpen:n}=e;return(0,r.jsx)(l(),{href:"movie/".concat(t.imdb_url.replace(/\/title\//g,"")),onClick:()=>n(!1),children:(0,r.jsxs)("div",{className:"flex items-center w-full p-5 gap-5 hover:bg-slate-100 transition-[0.2s]",children:[(0,r.jsx)(h(),{src:t.thumb_url,width:60,height:60,alt:t.name,className:"max-h-[60px] max-w-[60px] object-cover rounded-md"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold",children:t.name}),(0,r.jsx)("p",{className:"text-slate-400",children:t.year})]})]})})}var m=n(9119),g=n(4717);function f(){let e=(0,a.Z)(["\n      query SearchMovieByTitle($title: String!) {\n        searchMovieByTitle(title: $title) {\n          Poster\n          Title\n          Type\n          Year\n          imdbID\n        }\n      }\n    "]);return f=function(){return e},e}let p=async e=>{try{let t=(0,m.Ps)(f()),{searchMovieByTitle:n}=await g.L.request(t,{title:e}),r=n.map(e=>({actors:[],desc:"",directors:[],genre:[],image_url:e.Poster,thumb_url:e.Poster,imdb_url:"/title/".concat(e.imdbID),name:e.Title,rating:0,year:parseInt(e.Year)}));return r}catch(e){return console.log(e),[]}};function v(){let e=async e=>{let{value:t}=e.target;i(t);let r=await p(t);n(r)},[t,n]=(0,d.useState)([]),[s,l]=(0,d.useState)([]),[a,i]=(0,d.useState)(""),[u,h]=(0,d.useState)(!1);return(0,r.jsxs)(c.fC,{open:u,onOpenChange:h,children:[(0,r.jsx)(c.xz,{children:"Search"}),(0,r.jsx)(c.h_,{children:(0,r.jsx)(c.aV,{className:o().DialogOverlay,children:(0,r.jsxs)(c.VY,{className:o().DialogContent,children:[(0,r.jsx)("input",{type:"text",placeholder:"Search",onChange:e,value:a,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent"}),(0,r.jsx)("div",{className:"bg-white rounded-md flex flex-col",children:t.map((e,t)=>(0,r.jsx)(x,{movie:e,setOpen:h},t))})]})})})]})}var y=n(1864),j=n.n(y),b=n(6622),_=n(6008);function w(e){let{setLoggedIn:t,children:n}=e,s=(0,_.useRouter)(),[l,a]=(0,d.useState)(""),[i,o]=(0,d.useState)(""),[u,h]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=localStorage.getItem("email");e&&(a(e),o(e))},[]);let x=()=>{localStorage.setItem("email",i),a(i),h(!1),t(!0),s.push("/")},m=()=>{localStorage.removeItem("email"),a(""),h(!1),t(!1),s.push("/")};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.fC,{open:u,onOpenChange:h,children:[(0,r.jsxs)(c.xz,{className:"text-primary",children:[" ",l?(0,r.jsxs)("div",{className:"hover:scale-105 active:scale-95 transition-[0.15s]",children:[(0,r.jsx)(b.default,{account:l,size:30})," "]}):(0,r.jsx)("div",{children:n})," "]}),(0,r.jsx)(c.aV,{className:j().DialogOverlay,children:(0,r.jsx)(c.VY,{className:j().DialogContent,children:(0,r.jsxs)("div",{className:"px-5 pb-5",children:[(0,r.jsxs)("div",{className:"flex items-center h-[60px] justify-between",children:[(0,r.jsx)(c.Dx,{className:"text-xl font-bold text-black",children:l?"Account ":"Log in"}),(0,r.jsx)(c.x8,{className:"flex items-center justify-center h-10 w-10 rounded-full text-gray-500 text-2xl hover:bg-slate-100 hover:ring-2 text-center align-middle transition-[0.15s] hover:scale-105 active:scale-95",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",fill:"none",viewBox:"0 0 17 16",children:[(0,r.jsx)("rect",{width:"20",height:"2",x:"2.025",y:"0.222",fill:"#666",rx:"1",transform:"rotate(45 2.025 .222)"}),(0,r.jsx)("rect",{width:"20",height:"2",x:"0.833",y:"14.586",fill:"#666",rx:"1",transform:"rotate(-45 .833 14.586)"})]})})]}),(0,r.jsx)(c.dk,{className:"mb-4 text-gray-500",children:l?"You are logged in as ":" Please enter your email"}),(0,r.jsx)("input",{type:"email",value:i,disabled:!!l,onChange:e=>o(e.target.value),className:"w-full border border-gray-400 p-2 rounded-md mb-4 text-black disabled:text-gray-400",placeholder:"Email"}),l?(0,r.jsx)("button",{onClick:m,className:"bg-red-500 text-white px-5 py-2 rounded-md hover:scale-[1.02] active:scale-[0.98] transition-[0.15s]",children:"Log out"}):(0,r.jsx)("button",{onClick:x,className:"bg-primary text-white px-5 py-2 rounded-md hover:scale-[1.02] active:scale-[0.98] transition-[0.15s]",children:"Log in"})]})})})]})})}function N(){let[e,t]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{localStorage.getItem("email")&&t(!0)},[]),(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[(0,r.jsx)(v,{}),e&&(0,r.jsx)(l(),{href:"/my-lists",children:"My Lists"}),(0,r.jsx)(w,{setLoggedIn:t,children:"Log in"})]})}},4717:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(9119);let s=new r.g6("https://harbour-movies.vercel.app/api/graphql",{headers:{"Content-Type":"application/json"}})},6394:function(e,t,n){e.exports=n(7059)},5846:function(e,t,n){e.exports=n(3920)}},function(e){e.O(0,[59,920,288,954,972,455,744],function(){return e(e.s=9033)}),_N_E=e.O()}]);