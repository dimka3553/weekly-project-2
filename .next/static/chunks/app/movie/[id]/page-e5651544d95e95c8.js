(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{4107:function(e,t,n){Promise.resolve().then(n.t.bind(n,7059,23)),Promise.resolve().then(n.bind(n,2643)),Promise.resolve().then(n.bind(n,1978))},6930:function(e){e.exports={DialogOverlay:"styles_DialogOverlay__TwiiF",overlayShow:"styles_overlayShow__UTEkr",DialogContent:"styles_DialogContent__3XgK0"}},4007:function(e){e.exports={DialogOverlay:"styles_DialogOverlay__d348Z",overlayShow:"styles_overlayShow__QhSlB",DialogContent:"styles_DialogContent__d7aAk"}},2643:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s=n(6118),i=n(9268),l=n(5954),a=n(6006),r=n(6930),o=n.n(r),c=n(6008),d=n(9119),x=n(4717);function h(){let e=(0,s.Z)(["\n  query GetMovieLists($email: String!) {\n    getMovieLists(email: $email) {\n      name\n      id\n    }\n  }\n"]);return h=function(){return e},e}function m(){let e=(0,s.Z)(["\n      mutation AddMovie($imdbId: String!, $listId: Int!) {\n        addMovie(imdbId: $imdbId, listId: $listId) {\n          id\n        }\n      }\n    "]);return m=function(){return e},e}let u=(0,d.Ps)(h());async function v(e){let{getMovieLists:t}=await x.L.request(u,{email:e});return t}function f(e){let{children:t,movieId:n}=e,s=(0,c.useRouter)(),[r,h]=(0,a.useState)(""),[u,f]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[j,p]=(0,a.useState)([]),[w,b]=(0,a.useState)("");async function N(e,t){let n=(0,d.Ps)(m());try{let{addMovie:i}=await x.L.request(n,{imdbId:t,listId:parseInt(e)});s.push("/my-lists/".concat(e))}catch(e){console.log(e),b("Something went wrong")}}return(0,a.useEffect)(()=>{let e=localStorage.getItem("email");e&&(h(e),v(e).then(e=>{p(e)}))},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.fC,{open:g,onOpenChange:y,children:[(0,i.jsx)(l.xz,{className:"text-primary",children:(0,i.jsx)("div",{children:t})}),(0,i.jsx)(l.aV,{className:o().DialogOverlay,children:(0,i.jsx)(l.VY,{className:o().DialogContent,children:(0,i.jsxs)("div",{className:"px-5 pb-5",children:[(0,i.jsxs)("div",{className:"flex items-center h-[60px] justify-between",children:[(0,i.jsx)(l.Dx,{className:"text-xl font-bold text-black",children:"Add To List"}),(0,i.jsx)(l.x8,{className:"flex items-center justify-center h-10 w-10 rounded-full text-gray-500 text-2xl hover:bg-slate-100 hover:ring-2 text-center align-middle transition-[0.15s] hover:scale-105 active:scale-95",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",fill:"none",viewBox:"0 0 17 16",children:[(0,i.jsx)("rect",{width:"20",height:"2",x:"2.025",y:"0.222",fill:"#666",rx:"1",transform:"rotate(45 2.025 .222)"}),(0,i.jsx)("rect",{width:"20",height:"2",x:"0.833",y:"14.586",fill:"#666",rx:"1",transform:"rotate(-45 .833 14.586)"})]})})]}),(0,i.jsx)(l.dk,{className:"mb-4 text-gray-500",children:"Please select a list to add this movie to."}),w&&(0,i.jsx)("div",{className:"text-red-500 text-sm mb-2",children:w}),r&&(0,i.jsx)("div",{children:j.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2 gap-5",children:[(0,i.jsx)("p",{className:"text-black truncate",children:e.name}),(0,i.jsx)("button",{className:"bg-primary text-white px-5 py-2 rounded-md hover:scale-[1.02] active:scale-[0.98] transition-[0.15s]",onClick:()=>{N(e.id,n)},children:"Add"})]},e.id))})]})})})]})})}},1978:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s=n(6118),i=n(9268),l=n(5954),a=n(6006),r=n(4007),o=n.n(r),c=n(6008),d=n(9119),x=n(4717);function h(){let e=(0,s.Z)(["\n  query GetMovieLists($email: String!) {\n    getMovieLists(email: $email) {\n      name\n      id\n    }\n  }\n"]);return h=function(){return e},e}function m(){let e=(0,s.Z)(["\n      mutation RemoveMovie($removeMovieId: Int!, $listId: Int!) {\n        removeMovie(id: $removeMovieId, listId: $listId) {\n          id\n        }\n      }\n    "]);return m=function(){return e},e}let u=(0,d.Ps)(h());async function v(e){let{getMovieLists:t}=await x.L.request(u,{email:e});return t}function f(e){let{children:t,movieId:n}=e,s=(0,c.useRouter)(),[r,h]=(0,a.useState)(""),[u,f]=(0,a.useState)(!1),[g,y]=(0,a.useState)([]),[j,p]=(0,a.useState)("");async function w(e,t){let n=(0,d.Ps)(m());try{let{removeMovie:i}=await x.L.request(n,{removeMovieId:parseInt(t),listId:parseInt(e)});s.push("/my-lists/".concat(e))}catch(e){console.log(e),p("Something went wrong")}}return(0,a.useEffect)(()=>{let e=localStorage.getItem("email");e&&(h(e),v(e).then(e=>{y(e)}))},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.fC,{open:u,onOpenChange:f,children:[(0,i.jsx)(l.xz,{className:"text-primary",children:(0,i.jsx)("div",{children:t})}),(0,i.jsx)(l.aV,{className:o().DialogOverlay,children:(0,i.jsx)(l.VY,{className:o().DialogContent,children:(0,i.jsxs)("div",{className:"px-5 pb-5",children:[(0,i.jsxs)("div",{className:"flex items-center h-[60px] justify-between",children:[(0,i.jsx)(l.Dx,{className:"text-xl font-bold text-black",children:"Add To List"}),(0,i.jsx)(l.x8,{className:"flex items-center justify-center h-10 w-10 rounded-full text-gray-500 text-2xl hover:bg-slate-100 hover:ring-2 text-center align-middle transition-[0.15s] hover:scale-105 active:scale-95",children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",fill:"none",viewBox:"0 0 17 16",children:[(0,i.jsx)("rect",{width:"20",height:"2",x:"2.025",y:"0.222",fill:"#666",rx:"1",transform:"rotate(45 2.025 .222)"}),(0,i.jsx)("rect",{width:"20",height:"2",x:"0.833",y:"14.586",fill:"#666",rx:"1",transform:"rotate(-45 .833 14.586)"})]})})]}),(0,i.jsx)(l.dk,{className:"mb-4 text-gray-500",children:"Please select a list to add this movie to."}),j&&(0,i.jsx)("div",{className:"text-red-500 text-sm mb-2",children:j}),r&&(0,i.jsx)("div",{children:g.map(e=>(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2 gap-5",children:[(0,i.jsx)("p",{className:"text-black truncate",children:e.name}),(0,i.jsx)("button",{className:"bg-red-500 text-white px-5 py-2 rounded-md hover:scale-[1.02] active:scale-[0.98] transition-[0.15s]",onClick:()=>{w(e.id,n)},children:"Remove"})]},e.id))})]})})})]})})}},4717:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var s=n(9119);let i=new s.g6("https://harbour-movies.vercel.app/api/graphql",{headers:{"Content-Type":"application/json"}})}},function(e){e.O(0,[59,288,954,455,744],function(){return e(e.s=4107)}),_N_E=e.O()}]);